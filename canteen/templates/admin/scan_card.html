<!-- templates/admin/canteen/scan_card.html -->
{% extends "admin/base_site.html" %}
{% load i18n %}

{% block content %}
<div id="content-main">
    <h1>Scan Employee Card</h1>
    <form method="post">
        {% csrf_token %}
        <div class="form-row">
            <label for="card_number">Card Number:</label>
            <input type="text" name="card_number" id="card_number" autofocus>
        </div>
        <div class="submit-row">
            <input type="submit" value="Submit" class="default">
        </div>
    </form>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Focus the card number field automatically
    document.getElementById('card_number').focus();

    // Auto-submit when card is scanned (assuming scanner sends Enter key)
    document.getElementById('card_number').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            e.preventDefault();
            this.form.submit();
        }
    });
});
</script>
{% endblock %}